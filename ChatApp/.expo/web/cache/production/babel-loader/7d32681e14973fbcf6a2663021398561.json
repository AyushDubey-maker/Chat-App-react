{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useLayoutEffect,useEffect,useState}from'react';import SafeAreaView from\"react-native-web/dist/exports/SafeAreaView\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Button from\"react-native-web/dist/exports/Button\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Text from\"react-native-web/dist/exports/Text\";import View from\"react-native-web/dist/exports/View\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import{Avatar}from'react-native-elements';import CustomListItem from\"../components/CustomListItem\";import{auth,db}from\"../firebase\";import{AntDesign,SimpleLineIcons}from'@expo/vector-icons';var HomeScreen=function HomeScreen(_ref){var navigation=_ref.navigation;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),chats=_useState2[0],setChats=_useState2[1];useEffect(function(){var unsubscribe=db.collection('chats').onSnapshot(function(snapshot){return setChats(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});return unsubscribe;},[]);useLayoutEffect(function(){navigation.setOptions({title:\"Chat\",headerStyle:{backgroundColor:\"#fff\"},headerTitleStyle:{color:\"black\"},headerTintColor:\"black\",headerLeft:function headerLeft(){var _auth$currentUser;return React.createElement(View,{style:{marginLeft:20}},React.createElement(TouchableOpacity,{activeOpacity:0.5,onPress:signOut},React.createElement(Avatar,{rounded:true,source:{uri:auth==null?void 0:(_auth$currentUser=auth.currentUser)==null?void 0:_auth$currentUser.photoURL}})));},headerRight:function headerRight(){return React.createElement(View,{style:{flexDirection:\"row\",justifyContent:\"space-between\",width:80,marginRight:20}},React.createElement(TouchableOpacity,{activeOpacity:0.5},React.createElement(AntDesign,{name:\"camerao\",size:24,color:\"black\"})),React.createElement(TouchableOpacity,{activeOpacity:0.5,onPress:function onPress(){return navigation.navigate(\"AddChat\");}},React.createElement(SimpleLineIcons,{name:\"pencil\",size:24,color:\"black\"})));}});},[navigation]);function signOut(){auth.signOut().then(function(){navigation.replace(\"Login\");});}var enterChat=function enterChat(id,chatName){navigation.navigate('Chat',{id:id,chatName:chatName});};return React.createElement(SafeAreaView,null,React.createElement(ScrollView,{style:{height:\"100%\"}},chats.map(function(_ref2){var id=_ref2.id,chatName=_ref2.data.chatName;return React.createElement(CustomListItem,{key:id,id:id,chatName:chatName,enterChat:enterChat});})));};export default HomeScreen;var styles=StyleSheet.create({});","map":{"version":3,"sources":["C:/Users/Ayush/Desktop/React Native/Chat-App/ChatApp/screens/HomeScreen.js"],"names":["React","useLayoutEffect","useEffect","useState","Avatar","CustomListItem","auth","db","AntDesign","SimpleLineIcons","HomeScreen","navigation","chats","setChats","unsubscribe","collection","onSnapshot","snapshot","docs","map","doc","id","data","setOptions","title","headerStyle","backgroundColor","headerTitleStyle","color","headerTintColor","headerLeft","marginLeft","signOut","uri","currentUser","photoURL","headerRight","flexDirection","justifyContent","width","marginRight","navigate","then","replace","enterChat","chatName","height","styles","StyleSheet","create"],"mappings":"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","sourcesContent":["import React,{useLayoutEffect,useEffect,useState} from 'react'\r\nimport { SafeAreaView } from 'react-native'\r\nimport { TouchableOpacity } from 'react-native'\r\nimport { Button } from 'react-native'\r\nimport { StyleSheet, Text, View,ScrollView } from 'react-native'\r\nimport { Avatar } from 'react-native-elements'\r\nimport CustomListItem from '../components/CustomListItem'\r\nimport {auth,db} from \"../firebase\"\r\nimport {AntDesign,SimpleLineIcons} from '@expo/vector-icons'\r\nconst HomeScreen = ({navigation}) => {\r\n    const [chats,setChats]=useState([])\r\n\r\n\r\n    useEffect(()=>{\r\n     const unsubscribe=db.collection('chats').onSnapshot(snapshot=>(\r\n         setChats(snapshot.docs.map(doc=>({\r\n             id:doc.id,\r\n             data:doc.data()\r\n         })))\r\n     ))\r\n     return unsubscribe\r\n    },[])\r\n    useLayoutEffect(()=>{\r\n     navigation.setOptions({\r\n         title:\"Chat\",\r\n         headerStyle:{backgroundColor:\"#fff\"},\r\n         headerTitleStyle:{color:\"black\"},\r\n         headerTintColor:\"black\",\r\n         headerLeft:()=>(\r\n             <View style={{marginLeft:20}}>\r\n                 <TouchableOpacity activeOpacity={0.5} onPress={signOut}>\r\n                 <Avatar rounded source={{uri:auth?.currentUser?.photoURL}} />\r\n             </TouchableOpacity>\r\n             </View>\r\n         ),\r\n         headerRight:()=>(\r\n             <View style={{\r\n                 flexDirection:\"row\",\r\n                 justifyContent:\"space-between\",\r\n                 width:80,\r\n                 marginRight:20\r\n             }}>\r\n              <TouchableOpacity activeOpacity={0.5}>\r\n               <AntDesign name=\"camerao\" size={24} color=\"black\"/>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity activeOpacity={0.5} onPress={()=>navigation.navigate(\"AddChat\")}>\r\n                  <SimpleLineIcons name=\"pencil\" size={24} color=\"black\"/>\r\n              </TouchableOpacity>\r\n             </View>\r\n         ),\r\n\r\n     })\r\n    },[navigation])\r\n    function signOut(){\r\n    auth.signOut().then(()=>{\r\n        navigation.replace(\"Login\")\r\n    })\r\n    }\r\n    const enterChat=(id,chatName)=>{\r\n        navigation.navigate('Chat',{\r\n            id:id,\r\n            chatName:chatName\r\n        })\r\n    }\r\n    return (\r\n   <SafeAreaView>\r\n       <ScrollView style={{height:\"100%\"}}>\r\n           {chats.map(({id,data:{chatName}})=>(\r\n\r\n       <CustomListItem key={id} id={id} chatName={chatName} enterChat={enterChat}/>\r\n           ))}\r\n     \r\n       </ScrollView>\r\n   </SafeAreaView>\r\n    )\r\n}\r\n\r\nexport default HomeScreen\r\n\r\nconst styles = StyleSheet.create({})\r\n"]},"metadata":{},"sourceType":"module"}