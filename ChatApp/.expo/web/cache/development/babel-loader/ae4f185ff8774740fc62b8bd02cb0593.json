{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Ayush\\\\Desktop\\\\React Native\\\\Chat-App\\\\ChatApp\\\\screens\\\\HomeScreen.js\";\n\nimport React, { useLayoutEffect, useEffect, useState } from 'react';\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Avatar } from 'react-native-elements';\nimport CustomListItem from \"../components/CustomListItem\";\nimport { auth, db } from \"../firebase\";\nimport { AntDesign, SimpleLineIcons } from '@expo/vector-icons';\n\nvar HomeScreen = function HomeScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      chats = _useState2[0],\n      setChats = _useState2[1];\n\n  useEffect(function () {\n    var unsubscribe = db.collection('chats').onSnapshot(function (snapshot) {\n      return setChats(snapshot.docs.map(function (doc) {\n        return {\n          id: doc.id,\n          data: doc.data()\n        };\n      }));\n    });\n    return unsubscribe;\n  }, []);\n  useLayoutEffect(function () {\n    navigation.setOptions({\n      title: \"Chat\",\n      headerStyle: {\n        backgroundColor: \"#fff\"\n      },\n      headerTitleStyle: {\n        color: \"black\"\n      },\n      headerTintColor: \"black\",\n      headerLeft: function headerLeft() {\n        var _auth$currentUser;\n\n        return React.createElement(View, {\n          style: {\n            marginLeft: 20\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 14\n          }\n        }, React.createElement(TouchableOpacity, {\n          activeOpacity: 0.5,\n          onPress: signOut,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 18\n          }\n        }, React.createElement(Avatar, {\n          rounded: true,\n          source: {\n            uri: auth == null ? void 0 : (_auth$currentUser = auth.currentUser) == null ? void 0 : _auth$currentUser.photoURL\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 18\n          }\n        })));\n      },\n      headerRight: function headerRight() {\n        return React.createElement(View, {\n          style: {\n            flexDirection: \"row\",\n            justifyContent: \"space-between\",\n            width: 80,\n            marginRight: 20\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 14\n          }\n        }, React.createElement(TouchableOpacity, {\n          activeOpacity: 0.5,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 15\n          }\n        }, React.createElement(AntDesign, {\n          name: \"camerao\",\n          size: 24,\n          color: \"black\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 16\n          }\n        })), React.createElement(TouchableOpacity, {\n          activeOpacity: 0.5,\n          onPress: function onPress() {\n            return navigation.navigate(\"AddChat\");\n          },\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }\n        }, React.createElement(SimpleLineIcons, {\n          name: \"pencil\",\n          size: 24,\n          color: \"black\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 19\n          }\n        })));\n      }\n    });\n  }, [navigation]);\n\n  function signOut() {\n    auth.signOut().then(function () {\n      navigation.replace(\"Login\");\n    });\n  }\n\n  return React.createElement(SafeAreaView, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 4\n    }\n  }, React.createElement(ScrollView, {\n    style: {\n      height: \"100%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 8\n    }\n  }, chats.map(function (_ref2) {\n    var id = _ref2.id,\n        chatName = _ref2.data.chatName;\n    return React.createElement(CustomListItem, {\n      key: id,\n      id: id,\n      chatName: chatName,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 8\n      }\n    });\n  })));\n};\n\nexport default HomeScreen;\nvar styles = StyleSheet.create({});","map":{"version":3,"sources":["C:/Users/Ayush/Desktop/React Native/Chat-App/ChatApp/screens/HomeScreen.js"],"names":["React","useLayoutEffect","useEffect","useState","Avatar","CustomListItem","auth","db","AntDesign","SimpleLineIcons","HomeScreen","navigation","chats","setChats","unsubscribe","collection","onSnapshot","snapshot","docs","map","doc","id","data","setOptions","title","headerStyle","backgroundColor","headerTitleStyle","color","headerTintColor","headerLeft","marginLeft","signOut","uri","currentUser","photoURL","headerRight","flexDirection","justifyContent","width","marginRight","navigate","then","replace","height","chatName","styles","StyleSheet","create"],"mappings":"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","sourcesContent":["import React,{useLayoutEffect,useEffect,useState} from 'react'\r\nimport { SafeAreaView } from 'react-native'\r\nimport { TouchableOpacity } from 'react-native'\r\nimport { Button } from 'react-native'\r\nimport { StyleSheet, Text, View,ScrollView } from 'react-native'\r\nimport { Avatar } from 'react-native-elements'\r\nimport CustomListItem from '../components/CustomListItem'\r\nimport {auth,db} from \"../firebase\"\r\nimport {AntDesign,SimpleLineIcons} from '@expo/vector-icons'\r\nconst HomeScreen = ({navigation}) => {\r\n    const [chats,setChats]=useState([])\r\n\r\n\r\n    useEffect(()=>{\r\n     const unsubscribe=db.collection('chats').onSnapshot(snapshot=>(\r\n         setChats(snapshot.docs.map(doc=>({\r\n             id:doc.id,\r\n             data:doc.data()\r\n         })))\r\n     ))\r\n     return unsubscribe\r\n    },[])\r\n    useLayoutEffect(()=>{\r\n     navigation.setOptions({\r\n         title:\"Chat\",\r\n         headerStyle:{backgroundColor:\"#fff\"},\r\n         headerTitleStyle:{color:\"black\"},\r\n         headerTintColor:\"black\",\r\n         headerLeft:()=>(\r\n             <View style={{marginLeft:20}}>\r\n                 <TouchableOpacity activeOpacity={0.5} onPress={signOut}>\r\n                 <Avatar rounded source={{uri:auth?.currentUser?.photoURL}} />\r\n             </TouchableOpacity>\r\n             </View>\r\n         ),\r\n         headerRight:()=>(\r\n             <View style={{\r\n                 flexDirection:\"row\",\r\n                 justifyContent:\"space-between\",\r\n                 width:80,\r\n                 marginRight:20\r\n             }}>\r\n              <TouchableOpacity activeOpacity={0.5}>\r\n               <AntDesign name=\"camerao\" size={24} color=\"black\"/>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity activeOpacity={0.5} onPress={()=>navigation.navigate(\"AddChat\")}>\r\n                  <SimpleLineIcons name=\"pencil\" size={24} color=\"black\"/>\r\n              </TouchableOpacity>\r\n             </View>\r\n         ),\r\n\r\n     })\r\n    },[navigation])\r\n    function signOut(){\r\n    auth.signOut().then(()=>{\r\n        navigation.replace(\"Login\")\r\n    })\r\n    }\r\n    return (\r\n   <SafeAreaView>\r\n       <ScrollView style={{height:\"100%\"}}>\r\n           {chats.map(({id,data:{chatName}})=>(\r\n\r\n       <CustomListItem key={id} id={id} chatName={chatName}/>\r\n           ))}\r\n     \r\n       </ScrollView>\r\n   </SafeAreaView>\r\n    )\r\n}\r\n\r\nexport default HomeScreen\r\n\r\nconst styles = StyleSheet.create({})\r\n"]},"metadata":{},"sourceType":"module"}